<section class="d-flex">
  <!-- <img src="./assets/images/freshcart-logo.svg" alt="" /> -->
  <img src="./assets/images/shopping.jpg" alt="" />

  <form class="form-box" (ngSubmit)="handleForm()" [formGroup]="registerForm">
    <!-- <p>required:{{ registerForm.get("name")?.getError("required") | json }}</p>
    <p>
      minlength:{{ registerForm.get("name")?.getError("minlength") | json }}
    </p> -->
    <!-- this mean if there is an error in contol name in his validation minlength ...> show me this error   -->
    <div class="form-item">
      <label for="name">name :</label>
      <input
        formControlName="name"
        class="form-control"
        id="name"
        type="text"
      />
      <div
        *ngIf="
          (registerForm.get('name')?.touched ||
            registerForm.get('name')?.value?.length > 0) &&
          registerForm.get('name')?.errors
        "
        class="alert alert-danger"
      >
        <!-- if there is an  error will back true =>  form valid -->
        <!-- if there  is not error will back false => form not valid  -->
        <p *ngIf="registerForm.get('name')?.getError('required')">
          name is required
        </p>
        <p *ngIf="registerForm.get('name')?.getError('minlength')">
          name minLength is 3
        </p>
        <p *ngIf="registerForm.get('name')?.getError('maxlength')">
          name maxLength is 20
        </p>
      </div>
    </div>

    <div class="form-item">
      <label for="email">email :</label>
      <input
        formControlName="email"
        class="form-control"
        id="email"
        type="email"
      />
      <div
        *ngIf="
          (registerForm.get('email')?.touched ||
            registerForm.get('email')?.value?.length > 0) &&
          registerForm.get('email')?.errors
        "
        class="alert alert-danger"
      >
        <!-- if there is an  error will back true  -->
        <!-- if there  is not error will back false  -->
        <p *ngIf="registerForm.get('email')?.getError('required')">
          email is required
        </p>
        <p *ngIf="registerForm.get('email')?.getError('email')">
          Please provide a valid email format (example@domain.com)
        </p>
      </div>
    </div>
    <div class="form-item">
      <label for="password">password :</label>
      <input
        formControlName="password"
        class="form-control"
        id="password"
        type="password"
      />
      <div
        *ngIf="
          (registerForm.get('password')?.touched ||
            registerForm.get('password')?.value?.length > 0) &&
          registerForm.get('password')?.errors
        "
        class="alert alert-danger"
      >
        <!-- if there is an  error will back true  -->
        <!-- if there  is not error will back false  -->
        <p *ngIf="registerForm.get('password')?.getError('required')">
          password is required
        </p>
        <p *ngIf="registerForm.get('password')?.getError('pattern')">
          password minLength is 6
        </p>
      </div>
    </div>
    <div class="form-item">
      <label for="rePassword">rePassword :</label>
      <input
        formControlName="rePassword"
        class="form-control"
        id="rePassword"
        type="password"
      />
      <div
        *ngIf="
          (registerForm.get('rePassword')?.touched ||
            registerForm.get('rePassword')?.value?.length > 0) &&
          registerForm.get('rePassword')?.errors
        "
        class="alert alert-danger"
      >
        <!-- if there is an  error will back true  -->
        <!-- if there  is not error will back false  -->
        <p *ngIf="registerForm.get('rePassword')?.getError('required')">
          rePassword is required
        </p>
        <p *ngIf="registerForm.get('rePassword')?.getError('pattern')">
          rePassword minLength is 6
        </p>
      </div>
    </div>
    <div class="form-item">
      <label for="phone">phone :</label>
      <input
        formControlName="phone"
        class="form-control"
        id="phone"
        type="tel"
      />
      <div
        *ngIf="
          (registerForm.get('phone')?.touched ||
            registerForm.get('phone')?.value?.length > 0) &&
          registerForm.get('phone')?.errors
        "
        class="alert alert-danger"
      >
        <!-- if there is an  error will back true  -->
        <!-- if there  is not error will back false  -->
        <p *ngIf="registerForm.get('phone')?.getError('required')">
          phone is required
        </p>
        <p *ngIf="registerForm.get('phone')?.getError('pattern')">
          Please provide only egypt phone number
        </p>
      </div>
    </div>
    <button [disabled]="registerForm.invalid" type="submit" class="main-btn">
      register
    </button>
    <p *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</p>
  </form>
</section>
